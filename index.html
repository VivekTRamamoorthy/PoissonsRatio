<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poisson's Ratio Demo</title>
    <style>
        body { margin: 0; }
    </style>
</head>
<body>
    <!-- Import maps polyfill -->
    <!-- Remove this when import maps will be widely supported -->
    <script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>
    
    <script type="importmap">
        {
            "imports": {
                "three": "./three.module.js",
                "three/addons/": "./"
            }
        }
    </script>
    
    <script type="module" src="./three.module.js"></script>
    <script type="module" src="./OrbitControls.js"></script>
    <script type="module">
        import * as THREE from 'three';
        
        import { OrbitControls } from 'three/addons/OrbitControls.js';
        
        const scene = new THREE.Scene();
        //Create a DirectionalLight and turn on shadows for the light
        const light = new THREE.DirectionalLight( 0xffffff, 1 );
        light.position.set( 0, 10, 0 ); //default; light shining from top
        light.castShadow = true; // default false
        scene.add( light );



        const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
        
        // renderer
        const renderer = new THREE.WebGLRenderer();
        renderer.shadowMap.enabled = true;
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );
        
        // Base platform
        const geometry = new THREE.BoxGeometry(10,1,10);
        console.log(geometry);
        const material = new THREE.MeshBasicMaterial( { color: 0x009900 } );
        const platform = new THREE.Mesh( geometry, material );
        scene.add( platform );
        platform.position.x = -5;
        platform.position.y = -5;
        console.log(platform);
        


        // controls
        
        let controls = new OrbitControls( camera, renderer.domElement );
        controls.listenToKeyEvents( window ); // optional
        
        //controls.addEventListener( 'change', render ); // call this only in static scenes (i.e., if there is no animation loop)
        
        controls.enableDamping = true; // an animation loop is required when either damping or auto-rotation are enabled
        controls.dampingFactor = 0.05;
        
        controls.screenSpacePanning = false;
        
        controls.minDistance = 1;
        controls.maxDistance = 500;
        
        controls.maxPolarAngle = Math.PI / 2;
        
        
        
        // lighting
        // const light = new THREE.AmbientLight( 0xffffff, 20 ); // soft white light
        // scene.add( light );
        console.log(scene);
        console.log(camera);
        camera.position.z = 5;
        camera.position.x = 5;
        camera.position.y = 5;

        renderer.render( scene, camera ); // t
        
        const animate = function () {
            requestAnimationFrame( animate );
            
            // cube.rotation.x += 0.01;
            // cube.rotation.y += 0.01;
            
            
            // required if controls.enableDamping or controls.autoRotate are set to true
            // controls.update();
            
            renderer.render( scene, camera ); // this is like the update function
        };
        
        animate();
    </script>
    
</body>
</html>